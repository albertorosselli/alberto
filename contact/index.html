<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact — Alberto Rosselli</title>
  <link rel="stylesheet" href="../styles.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>
<body>
  <!-- Theme Toggle Button -->
  <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
    <i class="fas fa-moon"></i>
  </button>

  <div class="container">
    <!-- Left Section -->
    <div class="left-section">
      <div class="profile-photo">
        <img src="../profile-photo.png" alt="Alberto Rosselli"/>
      </div>

      <div class="about-section">
        <h2>About Me</h2>
        <p>
          Senior IT Specialist with 15+ years of experience in technical infrastructure,
          cloud architecture, and full-stack development. Currently leading digital
          transformation initiatives at NTNU Vitenskapsmuseet in Trondheim, Norway.
        </p>
        <p>
          Passionate about modernizing legacy systems, implementing automation solutions,
          and building scalable cloud-ready architectures.
        </p>
      </div>

      <div class="contact-section">
        <div class="contact-item">
          <i class="fas fa-map-marker-alt"></i>
          <div>
            <strong>Address</strong>
            <p>Trondheim, Norway</p>
          </div>
        </div>
        <div class="contact-item">
          <i class="fas fa-phone"></i>
          <div>
            <strong>Contact</strong>
            <p>+47 73559326</p>
          </div>
        </div>
        <div class="contact-item">
          <i class="fas fa-envelope"></i>
          <div>
            <strong>Email</strong>
            <p>dev@rosselli.no</p>
          </div>
        </div>
      </div>

      <div class="social-links">
        <a href="https://www.ntnu.no/ansatte/alberto.rosselli" target="_blank" aria-label="Website"><i class="fas fa-globe"></i></a>
        <a href="https://www.linkedin.com/in/albertorosselli" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
        <a href="https://github.com/albertorosselli" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
        <a href="https://wa.me/4746790909" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
      </div>
    </div>

    <!-- Right Section -->
    <div class="right-section">
      <div class="header">
        <h1>Get in<br>touch</h1>
        <p class="designation">Requests, ideas, or feedback</p>
      </div>

      <section class="section">
        <h2 class="section-title">Contact Form</h2>
        <p class="install-hint">Fill the form and I’ll get back to you.</p>

        <form id="contactForm" class="contact-form" data-endpoint="https://formspree.io/f/mnnopbww">
          <!-- Honeypot (hidden) -->
          <input type="text" name="_hp" id="hp" class="hp-field" autocomplete="off" tabindex="-1" aria-hidden="true" hidden>

          <div class="form-row">
            <label for="name">Your name</label>
            <input id="name" name="name" type="text" required placeholder="Full name"/>
          </div>

          <div class="form-row">
            <label for="email">Email</label>
            <input id="email" name="email" type="email" required placeholder="you@example.com"/>
          </div>

          <div class="form-row">
            <label for="subject">Subject</label>
            <input id="subject" name="subject" type="text" required placeholder="What is this about?"/>
          </div>

          <div class="form-row">
            <label for="message">Message</label>
            <textarea id="message" name="message" rows="6" required placeholder="Write your request or commentary..."></textarea>
          </div>

          <div class="form-row checkbox-row">
            <label class="checkbox">
              <input type="checkbox" id="consent" required/>
              <span>I agree to be contacted about this request</span>
            </label>
          </div>

          <div class="form-actions">
            <button type="submit" class="install-btn">
              <i class="fas fa-paper-plane"></i>
              <span>Send</span>
            </button>
            <a href="../index.html" class="link-btn">
              <i class="fas fa-arrow-left"></i>
              <span>Back to home</span>
            </a>
          </div>

          <p id="formStatus" class="form-status" role="status" aria-live="polite"></p>
        </form>
      </section>
    </div>
  </div>

  <script src="../script.js"></script>
  <script>
    // Contact form submit (Formspree)
    (function () {
      const form = document.getElementById('contactForm');
      const status = document.getElementById('formStatus');
      const hp = document.getElementById('hp');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        if (hp.value) return; // bot trap
        status.textContent = 'Sending...';

        const endpoint = form.dataset.endpoint;
        const payload = Object.fromEntries(new FormData(form).entries());

        try {
          const res = await fetch(endpoint, {
            method: 'POST',
            headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });

          if (res.ok) {
            form.reset();
            status.textContent = 'Thanks — your message has been sent.';
          } else {
            status.textContent = 'Could not send. Please try again or email me directly at dev@rosselli.no';
          }
        } catch {
          status.textContent = 'Network error. Please try again or email me directly at dev@rosselli.no';
        }
      });
    })();
  </script>
</body>
</html>
